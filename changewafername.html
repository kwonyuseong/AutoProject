<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title></title>
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>

    <!-- 합쳐지고 최소화된 최신 CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">

    <!-- 부가적인 테마 -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">

    <!-- Custom styles for this template -->
    <link href="dashboard.css" rel="stylesheet">

    <!-- 합쳐지고 최소화된 최신 자바스크립트 -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
    <script>

    /* * * * * * *

2018 / 10 / 28 시작
      * * * * * * */


//모두 준비 되면 시작
  $(document).ready(function(){

    //Active function 함수
    // 변환 시작
    $('#oneLineChange').click(function(){
      var inputChecksum = "68114R900-03-";
      var checkResult   = "";

      //공백제거
      inputChecksum = inputChecksum.trim();

      //자리수와 문장갯수를 를 확인한다
          //체크함수
          //결과는 문자열 TRUE 와 에러메세지 로 돌아온다
      checkResult = inputCheck(inputChecksum);

      if(checkResult == "TRUE"){
        oneLineChanege(inputChecksum);
      }else{
        //MSG 출력
        alert(checkResult);
      }


    });


    //필요한지 모르겟는데 일단 설정
    init();

    function init(){

    }

    // 1장문 입력과 단문 입력으로나눈다 한줄,여러줄

    //단문일 경우에는 하나의 행만 바꾼다.
    function oneLineChanege(arg_inputChecksum){
      //test값 넣는 곳
      var result = new Array;

      // TODO checkSumType check 테수트후 이 밑 내용을 따로 함수 로 만들것
      /*
          type1-ari
          type1-nasi
          type2-ari
          type2-nasi
          type3-ari
          type3-nasi
      */

      //test 値
      makeCheckSum = "type3-ari";

      //타입 3의 변환 함수호출
      if(makeCheckSum == "type3-ari"){
      result =  makeCheckSumCode3ari(arg_inputChecksum);
      }else if(makeCheckSum == "type3-nasi"){
        makeCheckSumCode3nasi(arg_inputChecksum);
      }

      $('#result_text').text(result);


    }

    //장문일 경우에 엔터로 구분한다.
    function Allchange(){
      //입력수를 센다

      //입력 수만큼 makeCheckSumCode를 호출한다

      //호출한 코드를 저장하고 html 넘긴다.

    }


    function makeCheckSumCode3ari(arg_inputChecksum){

        var makeCheckSumArray = new Array;
        var countInputChecksum = 0;
      countInputChecksum = arg_inputChecksum.length;

        //결과를 만들고
        for(var  i = 0 ; i < countInputChecksum ; i++ ){
          makeCheckSumArray[i] = arg_inputChecksum.charAt(i);

          if(makeCheckSumArray[i] != "-"){

          }

          //97 인풋 값
          //98 아스키코드 값 - 32 를 빼서 친환 한 수
          //99총 문자수 -1,-2,-3,-4
          //98 위 수가 8지수 로 제곱근이 된다
          //[8의6승]32768 - (59 * ceil(32768/59))
          // 몫이 23  아까치환한 수 13과 23을 곱한다
          //모든수를 더한다
          //또59로 나눈다 나머지 버리고 다시 59곱하고 원래총합수와 나머지버리고 곱한수를 뺀다
          //만약0보다 작으면 0오작성한다 그렇지 않으면 59에서 뺀 셜과로 한다
          //이진법으로 만든다
          //앞3자리 뒷 3자리 이진법인체로 나눈다
          // 마지막 잉여숫자인14,15반째 자리수를 더한다
          // 아스키코드에서 32뺀 수의 친환 숫자를 집어넣는
          //

        }

        return makeCheckSumArray;
        console.log(makeCheckSumArray);


        //현제 테스트는 하이픈이 있는 버전으로 간
    }


    function inputCheck(inputChecksum){
      var msg   = "";
      var check = "TRUE";
      var countInputChecksum = 0;
      var inputArray = new Array;

      countInputChecksum = inputChecksum.length;
      console.log(inputChecksum.length);

        //문자열의 길이를 확인
        if(countInputChecksum != 13){
          check = "FALSE";
          msg =msg+"桁数が違います"
        }
        //문자열 자르고 10 번 13번 자리에 하이픈이 있는지 확인
          //문자로 나누기
        for(var  i = 0 ; i < countInputChecksum ; i++ ){
          inputArray[i] = inputChecksum.charAt(i);
        }
        console.log(inputArray);
          //10번째 하이픈
        if(inputArray[9] != "-"){
          check = "FALSE";
          //13번째 하이픈
        }else if( inputArray[12] != "-"){
          check = "FALSE";
        }else{
          msg =msg+"形式が違いますtype３ではありません"　
        }


        //에러발생시 메세지로 전송
        if(check != "TRUE"){
          check = msg;
        }
          return check;
    }
  });//document.ready END


    </script>
  </head>
  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
         <div class="container-fluid">
           <div class="navbar-header">
             <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
               <span class="sr-only">Toggle navigation</span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
             </button>
             <a class="navbar-brand" href="#">Project name</a>
           </div>
           <div id="navbar" class="navbar-collapse collapse">
             <ul class="nav navbar-nav navbar-right">
               <li><a href="#">Dashboard</a></li>
               <li><a href="#">Settings</a></li>
               <li><a href="#">Profile</a></li>
               <li><a href="#">Help</a></li>
             </ul>
             <form class="navbar-form navbar-right">
               <input type="text" class="form-control" placeholder="Search...">
             </form>
           </div>
         </div>
       </nav>

       <div class="container-fluid">
         <div class="row">
           <div class="col-sm-3 col-md-2 sidebar">
             <ul class="nav nav-sidebar">
               <li class="active"><a href="#">Overview <span class="sr-only">(current)</span></a></li>
               <li><a href="#">Reports</a></li>
               <li><a href="#">Analytics</a></li>
               <li><a href="#">Export</a></li>
             </ul>
             <ul class="nav nav-sidebar">
               <li><a href="">Nav item</a></li>
               <li><a href="">Nav item again</a></li>
               <li><a href="">One more nav</a></li>
               <li><a href="">Another nav item</a></li>
               <li><a href="">More navigation</a></li>
             </ul>
             <ul class="nav nav-sidebar">
               <li><a href="">Nav item again</a></li>
               <li><a href="">One more nav</a></li>
               <li><a href="">Another nav item</a></li>
             </ul>
           </div>
           <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
             <div class=" col-md-6">
               <h1 class="page-header">入力</h1>
               <!-- *********************  입력창   ********************************* -->
              <textarea name="name" rows="25" cols="40" class="form-control" id="input_text"></textarea>
             </div>

             <div class=" col-md-6">
               <h1 class="page-header">出力</h1>
               <!-- *********************  출력창   ********************************* -->
              <textarea name="name" rows="25" cols="40" class="form-control" id="result_text"></textarea>
             </div>

<!-- *********************  버 튼   ********************************* -->
             <!-- <div class="row placeholders">
               <div class="col-xs-6 col-sm-3 placeholder">
                 <img data-src="holder.js/200x200/auto/sky" class="img-responsive" alt="Generic placeholder thumbnail">
                 <h4>Label</h4>
                 <span class="text-muted">Something else</span>
               </div>
               <div class="col-xs-6 col-sm-3 placeholder">
                 <img data-src="holder.js/200x200/auto/vine" class="img-responsive" alt="Generic placeholder thumbnail">
                 <h4>Label</h4>
                 <span class="text-muted">Something else</span>
               </div>
               <div class="col-xs-6 col-sm-3 placeholder">
                 <img data-src="holder.js/200x200/auto/sky" class="img-responsive" alt="Generic placeholder thumbnail">
                 <h4>Label</h4>
                 <span class="text-muted">Something else</span>
               </div>
               <div class="col-xs-6 col-sm-3 placeholder">
                 <img data-src="holder.js/200x200/auto/vine" class="img-responsive" alt="Generic placeholder thumbnail">
                 <h4>Label</h4>
                 <span class="text-muted">Something else</span>
               </div>
             </div> -->

              <div class="col-md-12">
                <h2 class="sub-header">ボタン</h2>
                    <button class="btn btn" type="button" name="button" id="oneLineChange" >TESTCEHCKSUM</button>


                <div class="table-responsive">
              </div>

           </div>

           </div>
         </div>
       </div>

       <!-- Bootstrap core JavaScript
       ================================================== -->

  </body>
</html>
